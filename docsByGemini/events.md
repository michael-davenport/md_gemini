# X4 Mission Director: Event & Cue Reference
*Generated by Gemini*

This reference lists the most common and useful events for Mission Director (MD) scripting. It is not 100% exhaustive (as the engine changes with every patch), but covers the core API.

**Pro Tip:** To see the *literal* exhaustive list for your current game version, open `libraries/md.xsd` and `libraries/common.xsd` (extracted via X Catalog Tool) and search for `<xs:element name="event_`.

---

## 0. Logic Example: Using Parameters
Most events provide "event parameters" (`event.param`, `event.param2`, etc.) that you can check within a `<check_any>` or `<check_value>` block to filter triggers.

```xml
<cue name="OnPlayerShipDestroyed">
  <conditions>
    <event_player_owned_destroyed/>
    <check_value value="event.param.isclass.ship"/>
  </conditions>
  <actions>
    <set_value name="$Killer" exact="event.param2"/>
    <debug_text text="'Player ship ' + event.param.knownname + ' was killed by ' + $Killer.knownname"/>
  </actions>
</cue>
```

---

## 1. Global Game State
These events are your entry points. They fire when the universe loads or changes state.

| Event / Cue | Description |
| :--- | :--- |
| `<event_cue_signalled cue="..."/>` | Fires when the target cue is manually signalled. | `event.param`: The signal value (if any). |
| `<event_player_created/>` | Fires once per save when the player entity is first initialized. | None |
| `<event_game_loaded/>` | Fires every time a save game is loaded. | None |
| `<event_universe_generated/>` | Fires when galaxy map generation is complete. | None |

---

## 2. Object & Universe Events
These trigger when physical objects change. Most require an `object="..."` or `group="..."` attribute.

### Movement & Position
* `<event_object_changed_zone/>`: Object moved to a new zone. **Param:** New zone. **Param2:** Old zone.
* `<event_object_changed_sector/>`: Object moved to a new sector. **Param:** New sector. **Param2:** Old sector.
* `<event_object_changed_cluster/>`: Object moved to a new cluster. **Param:** New cluster. **Param2:** Old cluster.
* `<event_object_docked/>`: Object has successfully docked. **Param:** The station/carrier docked at.
* `<event_object_undocked/>`: Object has undocked. **Param:** The station/carrier departed from.

### Combat & Destruction
* `<event_object_attacked/>`: Object took damage. **Param:** Attacker. **Param2:** Weapon used. **Param3:** Damage amount.
* `<event_object_destroyed/>`: Object was killed. **Param:** The object destroyed. **Param2:** The killer.
* `<event_object_abandoned/>`: Pilot bailed out. **Param:** The ship abandoned.
* `<event_object_captured/>`: Object was boarded/claimed. **Param:** The new owner. **Param2:** The old owner.

### Orders & Behavior
* `<event_object_order_ready/>`: Ship finished its current order. **Param:** The order that finished.
* `<event_object_order_cancelled/>`: Current order was cleared. **Param:** The cancelled order.
* `<event_object_signalled/>`: Signal from AI scripts. **Param:** Signal ID (string). **Param2:** Optional data.

---

## 3. Player Interaction
* `<event_player_teleported/>`: Player used teleport. **Param:** New location. **Param2:** Old location.
* `<event_control_entity_changed/>`: Player sat/stood. **Param:** The control entity (chair). **Param2:** The ship/station.
* `<event_scan_finished/>`: Scan complete. **Param:** Scanned object. **Param2:** Scan mode.
* `<event_player_change_cockpit/>`: Entered/left ship. **Param:** The ship.
* `<event_player_owned_attacked/>`: Global player asset attack. **Param:** Asset attacked. **Param2:** Attacker.
* `<event_player_owned_destroyed/>`: Global player asset loss. **Param:** Asset destroyed. **Param2:** Killer.

---

## 4. Missions & Offers
* `<event_mission_accepted/>`: Mission started. **Param:** Mission ID.
* `<event_mission_aborted/>`: Mission abandoned. **Param:** Mission ID.
* `<event_mission_finished/>`: Mission success. **Param:** Mission ID.
* `<event_mission_failed/>`: Mission failure. **Param:** Mission ID.
* `<event_offer_accepted/>`: Offer taken. **Param:** Offer ID.

---

## 5. UI & Conversations
* `<event_conversation_started/>`: Dialogue opened. **Param:** The actor. **Param2:** Conversation name.
* `<event_conversation_finished/>`: Dialogue closed. **Param:** The actor.
* `<event_conversation_next_section/>`: Choice made. **Param:** Section name. **Param2:** Resulting data.
* `<event_ui_triggered/>`: Custom Lua UI signal. **Param:** Screen ID. **Param2:** Control ID/Action.

---

## 6. Economy & Inventory
* `<event_inventory_added/>`: Item picked up. **Param:** Item type. **Param2:** Amount.
* `<event_trade_completed/>`: Transaction done. **Param:** Buyer. **Param2:** Seller. **Param3:** Ware.
* `<event_build_finished/>`: Construction done. **Param:** The built object. **Param2:** The builder.

---

## 7. Time & Logic
* `<event_cue_completed/>`: Cue finished `<actions>`. **Param:** The cue.
* `<event_cue_enabled/>`: Cue became active. **Param:** The cue.
* `<event_variable_changed/>`: Variable updated. **Param:** New value. **Param2:** Old value.
```